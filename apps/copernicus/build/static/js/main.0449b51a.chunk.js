(this.webpackJsonpcopernicus=this.webpackJsonpcopernicus||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/play_button.8de15c15.svg"},,,,,,function(e,t,a){e.exports=a.p+"static/media/pause_button.7bf4f11c.svg"},,,function(e,t,a){e.exports=a.p+"static/media/info_button.34246b8f.svg"},function(e,t,a){e.exports=a.p+"static/media/Earth.17663dc4.wav"},function(e,t,a){e.exports=a.p+"static/media/Jupiter.6236af16.wav"},function(e,t,a){e.exports=a.p+"static/media/Mars.186d4556.wav"},function(e,t,a){e.exports=a.p+"static/media/Mercury.366fc173.wav"},function(e,t,a){e.exports=a.p+"static/media/Neptune.574f62cc.wav"},function(e,t,a){e.exports=a.p+"static/media/Pluto.e1c3dd2b.wav"},function(e,t,a){e.exports=a.p+"static/media/Saturn.ff475143.wav"},function(e,t,a){e.exports=a.p+"static/media/Uranus.d29359be.wav"},function(e,t,a){e.exports=a.p+"static/media/Venus.4e69ea88.mp3"},,function(e,t,a){e.exports=a(43)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),s=(a(32),a(5)),o=a(4),u=a(2),l=a.n(u),m=a(3),p=a(1),d=(a(34),a(35),function(){return c.a.createElement("div",{className:"solar-system"},c.a.createElement("div",{className:"sun"}),c.a.createElement("div",{className:"gravity-mercury"},c.a.createElement("div",{className:"mercury"})),c.a.createElement("div",{className:"gravity-venus"},c.a.createElement("div",{className:"venus"})),c.a.createElement("div",{className:"gravity-earth"},c.a.createElement("div",{className:"earth"})),c.a.createElement("div",{className:"gravity-mars"},c.a.createElement("div",{className:"mars"})),c.a.createElement("div",{className:"gravity-jupiter"},c.a.createElement("div",{className:"jupiter"})),c.a.createElement("div",{className:"gravity-saturn"},c.a.createElement("div",{className:"saturn"})),c.a.createElement("div",{className:"gravity-uranus"},c.a.createElement("div",{className:"uranus"})),c.a.createElement("div",{className:"gravity-neptune"},c.a.createElement("div",{className:"neptune"})),c.a.createElement("div",{className:"gravity-pluto"},c.a.createElement("div",{className:"pluto"})))}),f=a(26),v=a(9),h=a(10),y=a(12),b=a(11),E=(a(36),a(37),function(e){var t=e.playState,a=e.image,r=e.populatePlayButtonList,i=e.passRefToPlayer,s=Object(n.useState)(""),o=Object(p.a)(s,2),u=o[0],d=o[1],f=Object(n.useState)(null),v=Object(p.a)(f,2),h=v[0],y=v[1],b=Object(n.useRef)();Object(n.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(b.current);case 2:null!==h&&(r(h),i(h));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);return c.a.createElement("img",{src:a,alt:"play and pause button",className:"play-button ".concat(u),ref:b,onClick:function(){t(),d(""===u||"press-again"===u?"press":"press-again")},onTouchEnd:function(e){e.preventDefault(),t(),d(""===u||"press-again"===u?"press":"press-again")}})}),O=a(16),g=a.n(O),j=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).defaultValue=0,n.componentDidMount=function(){n.progressTimer=setInterval((function(){return n.progressFollow()}),100)},n.progressFollow=function(){var e=n.props.pureTime/n.props.pureDuration*100;n.setState({progressBarValue:e})},n.changeLocation=function(e){var t=e.nativeEvent.offsetX/e.target.offsetWidth,a=n.props.pureDuration*t,c=100*t;n.setState({progressBarValue:Number(c)}),n.props.updateCurrentTime(a)},n.state={progressBarValue:"0"},n.progressBar=c.a.createRef(),n}return Object(h.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return c.a.createElement("div",{className:"progress-container",onClick:this.changeLocation},c.a.createElement("progress",{className:"audio-progress",type:"number",max:"100",value:this.state.progressBarValue||0,ref:this.progressBar}))}}]),a}(c.a.Component),N=function(e){var t=e.title,a=e.opacity;return c.a.createElement("p",{className:"audio-player-title ".concat(a)},t)},T=a(7),w=a.n(T),S=a(13),k=a.n(S),x=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){n.props.infoButtonOpacity&&"full-opacity"===n.state.infoBtnOpacity&&(window.innerWidth<501||window.innerWidth<900&&window.matchMedia("(orientation: landscape)").matches)&&n.setState({infoBtnOpacity:""})},n.playState=function(e){n.props.stopPlayingTracks(n.state.playButton),0===n.audio.current.currentTime?(n.setState({buttonImage:k.a}),n.setState({titleOpacity:"teal"}),n.audio.current.play()):n.state.buttonImage===k.a?(n.setState({buttonImage:w.a}),n.setState({titleOpacity:""}),n.audio.current.pause()):n.state.buttonImage===w.a&&(n.setState({buttonImage:k.a}),n.setState({titleOpacity:"teal"}),n.audio.current.play())},n.resetTrack=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({buttonImage:w.a}),n.setState({titleOpacity:""}),e.next=4,n.props.autoPlayTrackList(n.state.playButton);case 4:n.audio.current.load();case 5:case"end":return e.stop()}}),e)}))),n.setPlayButtonRefState=function(e){n.setState({playButton:e})},n.getTimeCalc=function(e){var t=n.audio.current,a=Math.floor(t.currentTime.toFixed(0)/60)+":"+(t.currentTime.toFixed(0)<10?"0".concat(t.currentTime.toFixed(0)):t.currentTime.toFixed(0)%60<10?"0".concat(t.currentTime.toFixed(0)%60):t.currentTime.toFixed(0)%60?t.currentTime.toFixed(0)%60:"00");n.setState({currentTime:a}),n.getDuration()},n.getDuration=function(e){var t=Math.floor(n.audio.current.duration.toFixed(0))-Math.floor(n.audio.current.currentTime.toFixed(0)),a=Math.floor(t/60)+":"+(t<10?"0".concat(t):t%60<10?"0".concat(t%60):t%60?t%60:"00");n.setState({timeRemaining:a}),n.pureTimeAndDuration()},n.pureTimeAndDuration=function(){n.setState({pureTime:n.audio.current.currentTime,pureDuration:n.audio.current.duration});var e=n.audio.current,t=e.played,a=e.currentTime.toFixed(0),c=e.dataset.title;n.props.sendDataToViewer(n.state.currentTime,n.state.timeRemaining,c,t,a)},n.updateCurrentTime=function(e){n.audio.current.currentTime=e},n.changeInfoBtnOpacity=function(){""===n.state.infoBtnOpacity?n.setState({infoBtnOpacity:"full-opacity"}):n.setState({infoBtnOpacity:""})},n.handleClick=function(e){n.props.displayPlanetInfo(e),n.changeInfoBtnOpacity()},n.handleTouch=function(e){e.preventDefault(),n.props.displayPlanetInfo(e),n.changeInfoBtnOpacity()},n.state={currentTime:"0:00",pureTime:0,pureDuration:0,buttonImage:w.a,infoBtnOpacity:"",titleOpacity:"",volume:1,timeRemaining:"0:00",playButton:null},n.audio=c.a.createRef(),n}return Object(h.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"audio-player"},c.a.createElement("audio",{className:"audio-file ",src:this.props.audioFile,ref:this.audio,onTimeUpdate:this.getTimeCalc,onDurationChange:this.getDuration,onEnded:this.resetTrack,"data-title":this.props.title}),c.a.createElement(E,{playState:this.playState,image:this.state.buttonImage,populatePlayButtonList:this.props.populatePlayButtonList,passRefToPlayer:this.setPlayButtonRefState}),c.a.createElement(j,{pureTime:this.state.pureTime,pureDuration:this.state.pureDuration,onClick:this.changeLocation,updateCurrentTime:this.updateCurrentTime}),c.a.createElement(N,{title:this.props.title,opacity:this.state.titleOpacity}),c.a.createElement("img",{className:"info-button ".concat(this.state.infoBtnOpacity||this.props.infoButtonOpacity),src:g.a,alt:"info",onClick:this.handleClick,onTouchEnd:this.handleTouch,"data-title":this.props.title}))}}]),a}(c.a.Component),D=(a(38),function(e){var t=e.displayPlanetInfo,a=e.musicData,r=e.sendDataToViewer,i=e.currentTime,s=e.currentTrack,o=e.timeRemaining,u=e.slideInOrOut,d=e.playlistSlideState,v=e.slideIconState,h=e.infoButtonOpacity,y=Object(n.useState)(""),b=Object(p.a)(y,2),E=b[0],O=b[1],g=Object(n.useState)([]),j=Object(p.a)(g,2),N=j[0],T=j[1],w=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T((function(e){return[].concat(Object(f.a)(e),[t])}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){if("on"===E){var t=N.indexOf(e),a=N[t+1];t===N.length-1?N[0].click():a.click()}},k=function(e){var t=N.filter((function(e){return e.src.match("pause_button")}));t.length>0&&t[0].click()},D=a.map((function(e){return c.a.createElement(x,{title:e.title,key:e._id,audioFile:e.audioName,composer:e.composer,displayPlanetInfo:t,sendDataToViewer:r,autoPlayTrackList:S,populatePlayButtonList:w,infoButtonOpacity:h,stopPlayingTracks:k})}));return c.a.createElement("div",{className:"playlist-container ".concat(d)},c.a.createElement("div",{className:"playlist-interface"},c.a.createElement("div",{className:"player-display"},c.a.createElement("p",{className:"current-time"},i),c.a.createElement("p",{className:"title"},s),c.a.createElement("p",{className:"time-remaining"},o)),D,c.a.createElement("div",{className:"bottom-display"},c.a.createElement("p",null,"auto-play:"),c.a.createElement("div",{className:"autoplay-container ".concat(E),onClick:function(){O(""===E?"on":"")}}))),c.a.createElement("div",{className:"playlist-tab",onClick:u},c.a.createElement("div",{className:v})))}),B=(a(39),function(e){var t=e.artistDescription,a=e.character,n=e.composer,r=e.difficulty,i=(e.instruments,e.length),s=e.rhythm,o=e.title,u=e.year,l=e.visibilityState;return c.a.createElement("div",{className:"info-card ".concat(l)},c.a.createElement("h1",{className:"card-title"},o),c.a.createElement("p",{className:"description"},t),c.a.createElement("div",{className:"stats"},c.a.createElement("p",null,c.a.createElement("span",null,"Composer:")," ",n),c.a.createElement("p",null,c.a.createElement("span",null,"Year:")," ",u),c.a.createElement("p",null,c.a.createElement("span",null,"Length:")," ",i),c.a.createElement("p",null,c.a.createElement("span",null,"Instruments:")," Piano"),c.a.createElement("p",null,c.a.createElement("span",null,"Difficulty:")," ",r),c.a.createElement("p",null,c.a.createElement("span",null,"Character: ")," ",a),c.a.createElement("p",null,c.a.createElement("span",null,"Rhythm:")," ",s)))}),C=function(e){var t=e.exitPlanetInfo,a=e.musicData,n=e.planetState,r=e.slideOutState,i=a.map((function(e){var t=e.artistDescription,a=e.character,r=e.composer,i=e.difficulty,s=e.instruments,o=e.length,u=e.rhythm,l=e.title,m=e.year,p=e._id,d="planet-grow"===n[l.toLowerCase()]?"visible":"";return c.a.createElement(B,{key:"".concat(p).concat(d," "),artistDescription:t,character:a,composer:r,difficulty:i,instruments:s,length:o,rhythm:u,title:l,year:m,visibilityState:d})}));return c.a.createElement("div",{className:"info-card-list ".concat(r)},c.a.createElement("div",{className:"close-info-cards",onClick:t}),i)},I=(a(40),function(e){var t=e.musicData,a=e.currentTime,r=e.currentTrack,i=e.pureTime,u=Object(n.useState)(""),d=Object(p.a)(u,2),f=d[0],v=d[1],h=Object(n.useState)(""),y=Object(p.a)(h,2),b=y[0],E=y[1],O=Object(n.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{name:"",message:""}),g=Object(p.a)(O,2),j=g[0],N=g[1],T=Object(n.useState)(" "),w=Object(p.a)(T,2),S=w[0],k=w[1],x=Object(n.useState)(""),D=Object(p.a)(x,2),B=D[0],C=D[1],I=function(e){var t=e.target.name,a=e.target.value;N(Object(s.a)({},t,a))},P=function(){var e=Object(m.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return e.next=4,C(a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(l.a.mark((function e(n){var c,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.preventDefault();case 3:return e.next=5,""!==j.name&&j.name.match(/[A-Z]/gi)?"-:--"!==a&&"-"!==r||(P("please play a track to comment","tooltip-visible"),!1):(P("please input a valid name (A-Z)","tooltip-visible"),!1);case 5:if(!0!==e.sent){e.next=19;break}return c=t.find((function(e){return e.title===r}))._id,s=JSON.stringify({track_id:c,name:j.name,timestamp:i,comment:j.message}),e.next=11,fetch("https://cors-anywhere.herokuapp.com/https://copernicus-api.herokuapp.com/tracks/".concat(r,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 11:return o=e.sent,e.next=14,o.json();case 14:u=e.sent,N({name:" ",message:""}),P(u,"tooltip-visible"),setTimeout((function(){return P(" ","")}),4e3);case 19:setTimeout((function(){return P("","")}),4e3),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"comment-container"},c.a.createElement("div",{className:"comment-icon ".concat(b),onClick:function(){"close-form-icon"!==b?(E("close-form-icon"),v("visible-form")):(E("switch-to-icon"),v(""))},onTouchEnd:function(e){e.preventDefault(),"close-form-icon"!==b?(E("close-form-icon"),v("visible-form")):(E("switch-to-icon"),v(""))}}),c.a.createElement("form",{className:"track-comment-form ".concat(f),onSubmit:L},c.a.createElement("div",{className:"tooltip ".concat(B)},S),c.a.createElement("div",{className:"first-column"},c.a.createElement("div",{className:"current-track-comment"},r||"current"),c.a.createElement("div",{className:"track-time"},a),c.a.createElement("input",{onChange:I,className:"name",type:"text",placeholder:"name",value:j.name,name:"name"})),c.a.createElement("textarea",{type:"text",placeholder:"make a comment about the track here. ",value:j.message,onChange:I,name:"message",maxLength:"50"}),c.a.createElement("input",{type:"submit",className:"submit",value:"Submit"})))}),P=(a(41),function(e){var t=e.musicData,a=e.currentTrack,r=(e.currentTime,e.pureTime),i=Object(n.useState)([]),s=Object(p.a)(i,2),o=s[0],u=s[1],l=Object(n.useState)([]),m=Object(p.a)(l,2),d=m[0],f=m[1],v=t.map((function(e){return[e.title,e.comments]}));return Object(n.useEffect)((function(){var e=v.filter((function(e){return e[0]===a})),t=e.map((function(t){return e.length>0?t[1]:{name:"",comment:"",timestamp:1e6}}));u(t)}),[a]),Object(n.useEffect)((function(){if(void 0!==o[0]){var e=o[0].filter((function(e){var t=Number(r)-Number(e.timestamp);return e.timestamp<=r&&t<20})).map((function(e){return c.a.createElement("div",{key:e._id,className:"single-comment"},' "'.concat(e.comment,'"   -').concat(e.name))}));f(e)}}),[o,r]),c.a.createElement("div",{className:"comment-display"},d)}),L=(a(42),function(e){var t=e.planetState;return c.a.createElement("div",{className:"planet-collection"},c.a.createElement("div",{className:"mercury-info ".concat(t.mercury)}),c.a.createElement("div",{className:"venus-info ".concat(t.venus)}),c.a.createElement("div",{className:"earth-info ".concat(t.earth)}),c.a.createElement("div",{className:"mars-info ".concat(t.mars)}),c.a.createElement("div",{className:"jupiter-info  ".concat(t.jupiter," ")}),c.a.createElement("div",{className:"saturn-info ".concat(t.saturn)}),c.a.createElement("div",{className:"uranus-info ".concat(t.uranus)}),c.a.createElement("div",{className:"neptune-info ".concat(t.neptune)}),c.a.createElement("div",{className:"pluto-info ".concat(t.pluto)}))}),F=a(17),R=a.n(F),M=a(18),V=a.n(M),W=a(19),_=a.n(W),A=a(20),J=a.n(A),U=a(21),H=a.n(U),Z=a(22),z=a.n(Z),G=a(23),X=a.n(G),Y=a(24),q=a.n(Y),K=a(25),Q=a.n(K),$=function(){var e=Object(n.useState)({mercury:"",venus:"",earth:"",mars:"",jupiter:"",saturn:"",uranus:"",neptune:"",pluto:""}),t=Object(p.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),u=Object(p.a)(i,2),f=u[0],v=u[1],h=[V.a,H.a,_.a,q.a,J.a,z.a,X.a,Q.a,R.a],y=Object(n.useState)(""),b=Object(p.a)(y,2),E=b[0],O=b[1],g=Object(n.useState)(""),j=Object(p.a)(g,2),N=j[0],T=j[1],w=Object(n.useState)("-:--"),S=Object(p.a)(w,2),k=S[0],x=S[1],B=Object(n.useState)("-:--"),F=Object(p.a)(B,2),M=F[0],W=F[1],A=Object(n.useState)("-"),U=Object(p.a)(A,2),Z=U[0],G=U[1],Y=Object(n.useState)(0),K=Object(p.a)(Y,2),$=K[0],ee=K[1],te=Object(n.useState)(window.innerWidth<501||window.innerWidth<900&&window.matchMedia("(orientation: landscape)").matches?"slide-out-playlist":"slide-in-playlist"),ae=Object(p.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(window.innerWidth<501||window.innerWidth<900&&window.matchMedia("(orientation: landscape)").matches?"slide-in-icon":"slideout-icon"),ie=Object(p.a)(re,2),se=ie[0],oe=ie[1],ue=Object(n.useState)("0"),le=Object(p.a)(ue,2),me=le[0],pe=le[1];Object(n.useEffect)((function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",(function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))})),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://copernicus-api.herokuapp.com/tracks",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return(a=e.sent).sort((function(e,t){return e.playListOrder-t.playListOrder})),a.forEach((function(e){return e.audioName=h[a.indexOf(e)]})),e.next=10,v(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement("div",{className:"app"},c.a.createElement("h1",{className:"main-title ".concat(N)},"Copernicus Etudes"),c.a.createElement(d,null),c.a.createElement(L,{planetState:a}),c.a.createElement(D,{displayPlanetInfo:function(e){var t=e.target.dataset.title.toLowerCase();"planet-grow"!==a[t]?(r((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},t,"planet-grow"))})),O("slide-out"),T("left"),(window.innerWidth<501||window.innerWidth<900&&window.matchMedia("(orientation: landscape)").matches)&&(ce("slide-out-playlist"),oe("slide-in-icon"))):(r((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},t,"planet-shrink"))})),O(""),T(""))},musicData:f,sendDataToViewer:function(e,t,a,n,c){0!==n.length&&(x(e),W(t),G(a),ee(c))},currentTime:k,timeRemaining:M,currentTrack:Z,slideInOrOut:function(){""===ne||"slide-in-playlist"===ne?(ce("slide-out-playlist"),T("")):(ce("slide-in-playlist"),T("title-fade")),oe("slideout-icon"===se?"slide-in-icon":"slideout-icon")},playlistSlideState:ne,slideIconState:se,infoButtonOpacity:me}),c.a.createElement(C,{musicData:f,planetState:a,slideOutState:E,exitPlanetInfo:function(){var e=Object(o.a)({},a);for(var t in e)"planet-grow"===e[t]&&(e[t]="planet-shrink");r(e),O(""),T(""),pe(""===me?"0":"1")}}),c.a.createElement(I,{musicData:f,currentTrack:Z,currentTime:k,pureTime:$}),c.a.createElement(P,{musicData:f,currentTime:k,currentTrack:Z,pureTime:$}))};i.a.render(c.a.createElement($,null),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.0449b51a.chunk.js.map